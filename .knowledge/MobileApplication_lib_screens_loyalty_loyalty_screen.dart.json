{"is_source_file": true, "format": "Dart", "description": "This Dart file defines a Flutter StatefulWidget for displaying loyalty rewards and history in a mobile app. It manages state, fetches data asynchronously from a loyalty service, and handles loading, error, and data display states.", "external_files": ["../../models/loyalty.dart", "../../services/loyalty_service.dart", "package:flutter/material.dart", "package:intl/intl.dart"], "external_methods": ["LoyaltyService.getLoyalty()", "mounted (property)"], "published": ["LoyaltyScreen"], "classes": [{"name": "LoyaltyScreen", "description": "A StatefulWidget that displays loyalty points and history, with refresh and error handling."}, {"name": "_LoyaltyScreenState", "description": "The state class for LoyaltyScreen, managing data fetching, loading, error handling, and UI updates."}], "methods": [{"name": "initState", "description": "Initializes state and triggers initial data load."}, {"name": "_loadLoyalty", "description": "Fetches loyalty data asynchronously from LoyaltyService, updates UI states accordingly."}, {"name": "build", "description": "Constructs the widget tree for the loyalty screen with conditional UI based on loading, error, and data presence states."}], "calls": ["LoyaltyService.getLoyalty()", "setState", "mounted", "DateFormat('MMM dd, yyyy').format", "Icon", "Text", "ElevatedButton", "RefreshIndicator", "SingleChildScrollView", "Column", "Card", "Padding", "Icon", "SizedBox", "Theme.of(context).textTheme.headlineLarge", "Theme.of(context).textTheme.titleLarge", "ListTile", "DateTime.parse", "TextStyle"], "search-terms": ["LoyaltyScreen", "loyalty points", "loyalty history", "fetch loyalty data", "loyalty service", "Flutter loyalty UI"], "state": 2, "file_id": 82, "knowledge_revision": 172, "git_revision": "", "hash": "7e71bf4d73c981f23e87317e4e1861fc", "format-version": 4, "code-base-name": "MobileApplication", "filename": "MobileApplication/lib/screens/loyalty/loyalty_screen.dart", "revision_history": [{"172": ""}]}