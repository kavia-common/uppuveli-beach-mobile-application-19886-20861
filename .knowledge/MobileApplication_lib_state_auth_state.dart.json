{"is_source_file": true, "format": "Dart", "description": "This file defines the AuthState class, which manages the authentication state in a Flutter application. It handles token management, user data, and communicates with authentication services and secure storage.", "external_files": ["package:flutter/foundation.dart", "package:MobileApplication/core/storage/secure_storage.dart", "package:MobileApplication/models/user.dart", "package:MobileApplication/services/auth_service.dart"], "external_methods": ["SecureStorage.readToken", "SecureStorage.writeToken", "SecureStorage.deleteToken", "AuthService.register", "AuthService.login", "AuthService.logout", "User.fromJson"], "published": ["token", "currentUser", "user", "isAuthenticated", "isLoading", "error", "initializeAuth", "register", "login", "logout", "setToken", "setUserFromJson", "refreshAuthFromStorage", "clearAuth", "clearError"], "classes": [{"name": "AuthState", "description": "A change notifier class that manages the authentication state, including tokens, user info, and loading/error states."}], "methods": [{"name": "AuthState", "description": "Constructor for AuthState class."}, {"name": "initializeAuth", "description": "Initializes authentication state by reading token from secure storage."}, {"name": "register", "description": "Handles user registration via AuthService."}, {"name": "login", "description": "Handles user login via AuthService."}, {"name": "logout", "description": "Logs out the user and clears auth data."}, {"name": "setToken", "description": "Sets the auth token and stores it securely."}, {"name": "setUserFromJson", "description": "Sets the current user info from a JSON map."}, {"name": "refreshAuthFromStorage", "description": "Refreshes authentication token from secure storage."}, {"name": "clearAuth", "description": "Clears authentication token and user info."}, {"name": "clearError", "description": "Clears the error message."}, {"name": "_setLoading", "description": "Internal method to update loading state."}], "calls": ["SecureStorage.readToken", "SecureStorage.writeToken", "SecureStorage.deleteToken", "AuthService(authState: this).register", "AuthService(authState: this).login", "AuthService(authState: this).logout", "User.fromJson"], "search-terms": ["auth state", "flutter change notifier", "secure storage", "token management", "user model", "authentication flow"], "state": 2, "file_id": 119, "knowledge_revision": 312, "git_revision": "", "revision_history": [{"260": ""}, {"263": ""}, {"297": ""}, {"308": ""}, {"312": ""}], "hash": "0ac3f352323ef2ff05dc0f0d21c8c0ad", "format-version": 4, "code-base-name": "MobileApplication", "filename": "MobileApplication/lib/state/auth_state.dart"}