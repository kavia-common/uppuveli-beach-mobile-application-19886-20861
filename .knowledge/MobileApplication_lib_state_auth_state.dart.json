{"is_source_file": true, "format": "Dart", "description": "This file defines the `AuthState` class, a state management class for authentication in a Flutter app. It manages tokens, user data, and related async operations with storage, authentication services, and notifier updates.", "external_files": ["package:flutter/foundation.dart", "package:MobileApplication/core/storage/secure_storage.dart", "package:MobileApplication/models/user.dart", "package:MobileApplication/services/auth_service.dart"], "external_methods": ["SecureStorage.getToken", "SecureStorage.setToken", "SecureStorage.clearToken", "AuthService(authState:).register", "AuthService(authState:).login", "AuthService(authState:).logout", "User.fromJson"], "published": ["token", "currentUser", "isAuthenticated", "isLoading", "error", "initializeAuth", "register", "login", "logout", "setToken", "setUserFromJson", "refreshAuthFromStorage", "clearAuth", "clearError"], "classes": [{"name": "AuthState", "description": "A ChangeNotifier class that manages authentication state, including tokens, user info, and loading/error states, providing methods to initialize, login, register, logout, and update auth information."}], "methods": [{"name": "AuthState", "description": "Constructor for AuthState; initializes the object."}, {"name": "initializeAuth", "description": "Initializes authentication state by retrieving token from secure storage."}, {"name": "register", "description": "Handles user registration via AuthService."}, {"name": "login", "description": "Handles user login via AuthService."}, {"name": "logout", "description": "Logs out the user, clearing token and user info."}, {"name": "setToken", "description": "Sets the auth token and persists it to storage."}, {"name": "setUserFromJson", "description": "Sets the current user from a JSON map."}, {"name": "refreshAuthFromStorage", "description": "Refreshes auth token state from secure storage."}, {"name": "clearAuth", "description": "Clears authentication token and user info."}, {"name": "clearError", "description": "Clears the current error message."}, {"name": "_setLoading", "description": "Internal method to update the loading state and notify listeners."}], "calls": ["SecureStorage.getToken", "SecureStorage.setToken", "SecureStorage.clearToken", "AuthService(authState:).register", "AuthService(authState:).login", "AuthService(authState:).logout", "User.fromJson"], "search-terms": ["AuthState", "flutter ChangeNotifier", "secure storage token management", "auth registration", "auth login", "auth logout", "user management", "authentication flow"], "state": 2, "file_id": 119, "knowledge_revision": 308, "git_revision": "", "revision_history": [{"260": ""}, {"263": ""}, {"297": ""}, {"308": ""}], "hash": "0ac3f352323ef2ff05dc0f0d21c8c0ad", "format-version": 4, "code-base-name": "MobileApplication", "filename": "MobileApplication/lib/state/auth_state.dart"}