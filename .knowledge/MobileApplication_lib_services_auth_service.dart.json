{"is_source_file": true, "format": "Dart", "description": "This Dart file defines an AuthService class that provides authentication-related API calls, including register, login, and logout, collaborating with the AuthState for state management of tokens and user info.", "external_files": ["package:dio/dio.dart", "package:flutter/foundation.dart", "package:MobileApplication/core/api_client.dart", "package:MobileApplication/core/env.dart", "package:MobileApplication/state/auth_state.dart"], "external_methods": ["ApiClient(Env.apiBaseUrl).dio", "AuthState.setToken", "AuthState.setUserFromJson", "AuthState.refreshAuthFromStorage", "AuthState.clearAuth"], "published": ["register", "login", "logout"], "classes": [{"name": "AuthService", "description": "A service class handling user registration, login, and logout via API calls, managing authenticated state through AuthState."}], "methods": [{"name": "register", "description": "Registers a new user with email, password, and name. On success, attempts to log in automatically to fetch a token."}, {"name": "login", "description": "Authenticates a user with email and password, stores the token, and updates user info in AuthState."}, {"name": "logout", "description": "Logs out the user by clearing authentication data from AuthState."}], "calls": ["await _dio.post", "return await login", "await _authState.setToken", "await _authState.setUserFromJson", "await _authState.refreshAuthFromStorage", "await _authState.clearAuth"], "search-terms": ["AuthService", "register", "login", "logout", "token management", "Dio API calls", "auth state persistence"], "state": 2, "file_id": 133, "knowledge_revision": 311, "git_revision": "", "revision_history": [{"289": ""}, {"306": ""}, {"311": ""}], "hash": "a50dfd8b7d63d0370a48f25ff2006b4e", "format-version": 4, "code-base-name": "MobileApplication", "filename": "MobileApplication/lib/services/auth_service.dart"}