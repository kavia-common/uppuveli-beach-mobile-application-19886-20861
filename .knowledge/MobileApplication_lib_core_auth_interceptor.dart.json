{"is_source_file": true, "format": "Dart", "description": "This source file defines an HTTP interceptor for the Dio HTTP client that manages authentication tokens and handles 401 Unauthorized responses. It attaches the bearer token to outgoing requests, handles errors by clearing stored tokens, and optionally triggers a callback on Unauthorized responses.", "external_files": ["package:dio/dio.dart", "package:flutter/foundation.dart", "package:MobileApplication/core/storage/secure_storage.dart"], "external_methods": ["SecureStorage.readToken", "SecureStorage.deleteToken"], "published": ["AuthInterceptor"], "classes": [{"name": "AuthInterceptor", "description": "A Dio interceptor that adds Authorization headers to requests and handles 401 errors by clearing stored tokens and invoking a callback."}], "methods": [{"name": "AuthInterceptor", "description": "Constructor for AuthInterceptor that accepts an optional callback to invoke on Unauthorized responses."}, {"name": "onRequest", "description": "Intercepts outgoing requests to attach the Authorization header if a token is available."}, {"name": "onError", "description": "Handles errors, specifically 401 responses, by clearing stored tokens and invoking the onUnauthorized callback if provided."}], "calls": ["SecureStorage.readToken", "SecureStorage.deleteToken"], "search-terms": ["Dio", "AuthInterceptor", "Authorization header", "401 Unauthorized", "Flutter", "security token"], "state": 2, "file_id": 117, "knowledge_revision": 256, "git_revision": "", "hash": "edf3de70b28ddfb06bf5de71924f311d", "format-version": 4, "code-base-name": "MobileApplication", "filename": "MobileApplication/lib/core/auth_interceptor.dart", "revision_history": [{"256": ""}]}